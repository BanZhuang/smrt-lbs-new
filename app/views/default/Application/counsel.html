#{extends theme+'/main.html' /} 
#{set title:'Counselling' /}
<link rel="stylesheet" type="text/css" media="screen" href="${static_dir}/css/kendo.common.min.css" />
<link rel="stylesheet" type="text/css" media="screen" href="${static_dir}/css/kendo.default.min.css" />
<script src="${static_dir}/js/counsel.js" type="text/javascript" charset="utf-8"></script>
<script src="${static_dir}/js/kendo.datepicker.min.js" type="text/javascript"></script>
<script src="${static_dir}/js/kendo.timepicker.min.js" type="text/javascript"></script>
<script src="${static_dir}/js/kendo.grid.min.js" type="text/javascript"></script>
<script src="${static_dir}/js/kendo.window.min.js" type="text/javascript"></script>
<script src="${static_dir}/js/kendo.dropdownlist.min.js" type="text/javascript"></script>
<script src="${static_dir}/js/kendo.web.min.js" type="text/javascript"></script>

<div id="horizontal" style="height:580px">
	<div id="right-side">
		<div id="counsel_top" align="center" style="padding: 20px 0 0 0px;">
			#{form @Counsellings.search()}
			<table>
				<tr>
					<td width="100px"><label for="name">&{'counsel-username'}:</label></td>
					<td width="240px"><input type="text" id="name" name="username"
						value="" /></td>
					<td width="100px"><label for="driverName">&{'counsel-driver'}:</label></td>
					<td width="240"><input type="text" id="driver"
						name="driverName" value="" /></td>
				</tr>
				<tr>
					<td width="100px"><label for="start">&{'counsel-start-date'}:</label></td>
					<td width="240px"><input type="text" class="start-date"
						name="startDate" value="" /></td>
					<td width="100px"><label for="end">&{'counsel-end-date'}:</label></td>
					<td width="240px"><input type="text" class="end-date" value=""
						name="endDate" /></td>
				</tr>
				<tr>
					<td width="100px"><label for="start">&{'counsel-start-time'}:</label></td>
					<td width="240px"><input type="text" class="start-time"
						name="startTime" value="" /></td>
					<td width="100px"><label for="end">&{'counsel-end-time'}:</label></td>
					<td width="240px"><input type="text" class="end-time" value=""
						name="endTime" /></td>
					<td width="100px">
						<button data-bind="click: search">Search</button>
					</td>
				</tr>
			</table>
			#{/form}
			<hr width="auto" />
			<div style="padding: 5px">
				#{if flash.error}
				<p style="color: red">${flash.error}</p>
				#{/if}
			</div>
			<div id="new_div" style="padding-bottom: 10px">
				<button class="create">Create new</button>
			</div>
			<div id="counsel_table">
				<Table id="counsel-show">
					<tr id="t-title">
						<th>No.</th>
						<th>Host</th>
						<th>Driver</th>
						<th>Start Time</th>
						<th>End Time</th>
						<th>Action</th>
					</tr>
					#{list items:counsellings, as:'counsel'}
					<tr class="counsel-row">
						<td class="driver_no" style="text-align: center;">${counsel.id}</td>
						<td class="account" style="text-align: center;">${counsel.user.name}</td>
						<td class="diver_name" style="text-align: center;">${counsel.driver.name}</td>
						<td class="start_time" style="text-align: center;">${counsel.startTime}</td>
						<td class="start_time" style="text-align: center;">${counsel.endTime}</td>
						<td class="action" style="text-align: center;">
							<button id="btn-edit" class="edit" counsel_id="${counsel.id}">Edit</button>
							<button id="btn-del" class="delete" counsel_id="${counsel.id}">Delete</button>
						</td>
					</tr>
					#{/list}
				</Table>
			</div>
			<div id="win">
				#{form @Counsellings.saveCounselling()}
				<table>
					<tr>
						<td><label>Hosted by: </label></td>
						<td><label> <select id="dropDownList" name="username"
								value="">
									<option>Select User</option> #{list items:userList, as:'user'}
									<option>${user ? user.name : ""}</option> #{/list}
							</select>
						</label></td>
					</tr>
					<tr>
						<td><label>Session for: </label></td>
						<td><label><input id="driver_name" name="driverName"
								value="" /></label></td>
					</tr>
					<tr>
						<td><label>Date:</label></td>
						<td><label> <input id="date" name="date" value="" /></label>
						</td>
					</tr>
					<tr>
						<td><label>Start Time: </label></td>
						<td><label><input class="start-time" name="start"
								value="" /></label></td>
						<td><label>End Time: <input class="end-time"
								name="end" value="" />
						</label></td>
					</tr>
					<tr>
						<td><label>Remark:</label></td>
						<td><label><textarea id="remark" name="remark"
									value=""></textarea> </label></td>
					</tr>
					<tr>
						<button id="create-btn" data-bind="click: create">Create</button>
					</tr>
				</table>
				<div data-bind="visible: confirmed">
					<h4>Confirmation</h4>
					<div>
						You create a counselling for <span data-bind="text: driver"></span>
						<br />
						<br />
						<button>Close</button>
					</div>
				</div>
				#{/form}
			</div>
		</div>
	</div>
	<div id="left-side">
		<p>This is left side</p>
	</div>
</div>




